{% extends 'base.html.twig' %}

{% block title %}Documents | Alice CRM{% endblock %}

{% block body %}
    <h1>Document</h1>

    <div class="d-flex flex-column justify-content-center align-items-center flex-md-row justify-content-md-end">
        <a href="{{ path('app_document_edit', {'id': document.id}) }}" class="btn btn-alice-lg mx-2">Modifier</a>
        <a href="{{ asset('uploads/documents/' ~ document.fileName) }}" download class="btn btn-alice-lg mx-2">Télécharger</a>
        <a href="{{ path('app_document_list') }}" class="btn btn-alice-lg mx-2">Retour à la liste</a>
    </div>

    {# {{ include('document/_delete_form.html.twig') }} #}

    <table class="table">
        <tbody>
        {% if is_granted('ROLE_ADMIN') %}
            <tr>
                <th>User</th>
                <td>{{ document.user }}</td>
            </tr>
        {% else %}
        {% endif %}
            <tr>
                <th>Nom</th>
                <td>{{ document.name }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ document.description }}</td>
            </tr>
            <tr>
                <th>Date</th>
                <td>{{ document.date ? document.date|date('d-m-Y') : '' }}</td>
            </tr>
            <tr>
                <th>Famille</th>
                <td>{{ document.family }}</td>
            </tr>
        </tbody>
    </table>


    <div class="embedContainer ms-lg-5">
        {% if document.fileName|lower ends with('.pdf') %}
            <embed src="{{ asset('uploads/documents/' ~ document.fileName) }}" type='application/pdf' alt="{{ document.name }}" width="300" height="1000">
        {% else %}
            <img src="{{ asset('uploads/documents/' ~ document.fileName) }}" alt="{{ document.name }}" class="imgEmbedDocument">
        {% endif %}
    </div>




{% endblock %}

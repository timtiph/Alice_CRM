{% extends 'base.html.twig' %}

{% block title %}Contact {{ contact.firstname|capitalize }} {{ contact.lastname|upper }} | Alice CRM{% endblock %}

{% block body %}


    <h1 class="mb-3">Détail Fiche Contact</h1>

    <div class="d-flex flex-column justify-content-around">
        {% if customer is not null %}
            <div class="d-flex flex-column">
                <p class="fs-6">Nom du client : </p>
                <p class="fs-5 fw-medium">{{ user.customer.name|upper }}</p>
            </div>
        {% endif %}

            <div class="d-flex flex-column">
                <p class="fs-6">Non Utilisateur :  </p>
                <p class="fs-5 fw-medium">{{ contact.user.firstname }} {{ contact.user.lastname }}</p>
            </div>
    </div>

    <div class="d-flex flex-column align-items-center flex-sm-row flex-sm-wrap mb-3 me-md-1 justify-content-center justify-content-lg-end">
        <a href="{{ path('app_contact_edit', { 'id': contact.id, 'slug': contact.slug }) }}" class="btn btn-alice-lg btn-block mx-3">Modifier</a>        

        <a href="{{ path('app_contact_delete', { 'id': contact.id, 'slug': contact.slug, 'csrf_token': csrf_token('delete_contact' ~ contact.id) }) }}" class="btn btn-alice-lg btn-block mx-3 buttonRemove" data-name="Contact {{ contact.firstname|capitalize }} {{ contact.lastname|upper }}">Supprimer</a> 

        {% if customer is not null %}       
            <a href=" {{ path('app_customer', { 'id': user.customer.id, 'slug': user.customer.slug }) }} " class="btn btn-alice-lg btn-block mx-3">Retour</a>
        {% else %}
            <a href=" {{ path('app_user_show', { 'id': user.id, 'slug': user.slug }) }} " class="btn btn-alice-lg btn-block mx-3">Retour</a>
        {% endif %}
    </div>

    <div class="table-responsive me-lg-5">


            
        <table class="table">

                <thead>
                    <tr>
                        <th scope="col">Nom</th>
                        <th scope="col">Prénom</th>
                        <th scope="col">Email</th>
                        <th scope="col">Téléphone</th>
                        <th scope="col">Fonction</th>
                        {% if contact.isMain == 1 %}
                            <th scope="col">Contact Principal</th>
                        {% endif %}
                    </tr>
                </thead>

                <tbody>
                    <tr>
                        <td>{{ contact.lastname|upper }}</td>
                        <td>{{ contact.firstname|capitalize }}</td>
                        <td>{{ contact.email }}</td>
                        <td>{{ contact.phone }}</td>
                        <td>{{ contact.position|upper }}</td>
                        {% if contact.isMain == 1 %}
                            <td><img src=" {{ asset('/assets/img/Check.png') }} " alt="Check"></td>
                        {% endif %}
                    </tr>

                </tbody>

        </table>

    </div>


{% endblock %}
